<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    height: 100vh;
    overflow: hidden;
    background: black;
}

/* INTRO SCREEN */
#intro {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    z-index: 100;
    text-align: center;
    padding: 20px;
}

#startBtn {
    padding: 15px 35px;
    border: none;
    border-radius: 30px;
    background: #ff4d6d;
    color: white;
    font-size: 20px;
    cursor: pointer;
    margin-top: 20px;
    z-index: 101;
    position: relative;
    transition: transform 0.3s, box-shadow 0.3s;
}

#startBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px #ff4d6d;
}

/* COUNTDOWN */
#countdown {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: none;
    justify-content: center;
    align-items: center;
    font-size: 80px;
    z-index: 90;
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

/* PAGE 1 */
#page1 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image1.jpg") center/cover no-repeat;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1;
}

#page1 h1 {
    color: white;
    font-size: 32px;
    text-shadow: 0 0 15px pink, 0 0 30px red;
    margin-bottom: 20px;
    text-align: center;
    padding: 0 20px;
}

.button-container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    position: relative;
}

#page1 button {
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
    min-width: 120px;
}

#yes {
    background: #ff4d6d;
    color: white;
}

#yes:hover {
    transform: scale(1.2);
    box-shadow: 0 0 25px #ff4d6d;
}

#no {
    background: #444;
    color: white;
    position: relative;
}

#no:hover {
    background: #666;
}

/* PAGE 2 */
#page2 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image2.jpg") center/cover no-repeat;
    justify-content: center;
    align-items: center;
    z-index: 2;
}

.message {
    background: transparent;
    padding: 30px;
    border-radius: 25px;
    color: #ff0000;
    font-size: 26px;
    font-weight: bold;
    line-height: 1.9;
    white-space: pre-line;
    max-width: 800px;
    margin: 20px;
    text-shadow: 
        0 0 20px rgba(255, 0, 0, 0.8),
        0 0 40px rgba(255, 77, 109, 0.5);
    animation: glow 2s infinite alternate;
    letter-spacing: 0.5px;
    -webkit-text-stroke: 0.5px rgba(255, 200, 200, 0.3);
}

@keyframes glow {
    from { text-shadow: 0 0 25px #ff3333, 0 0 50px #ff4d6d; }
    to { text-shadow: 0 0 40px #ff6666, 0 0 70px #ff9999, 0 0 100px #ff4d6d; }
}

/* Hearts */
.heart {
    position: absolute;
    color: #ff4d6d;
    animation: floatUp 4s linear infinite;
    font-size: 20px;
    z-index: 999;
    pointer-events: none;
    filter: drop-shadow(0 0 10px rgba(255, 77, 109, 0.8));
}

@keyframes floatUp {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
    }
}

/* Music Control */
#musicControl {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: rgba(255, 77, 109, 0.9);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255,255,255,0.3);
    transition: all 0.3s;
}

#musicControl:hover {
    background: #ff4d6d;
    transform: scale(1.05);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Surprise Button */
#surpriseBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 25px;
    background: #ff4d6d;
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    transition: all 0.3s;
    border: 1px solid rgba(255,255,255,0.3);
}

#surpriseBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Responsive */
@media (max-width: 768px) {
    .message {
        font-size: 20px;
        padding: 20px;
    }
    
    #page1 h1 {
        font-size: 26px;
    }
}
</style>
</head>
<body>

<!-- INTRO -->
<div id="intro">
    <h1>üé¨ Ready for something special?</h1>
    <button id="startBtn">Start üéÅ</button>
</div>

<!-- COUNTDOWN -->
<div id="countdown">3</div>

<!-- PAGE 1 -->
<div id="page1">
    <h1>Are you ready for a surprise? üíñ</h1>
    <div class="button-container">
        <button id="yes">Yes üòç</button>
        <button id="no">No üòÖ</button>
    </div>
</div>

<!-- PAGE 2 -->
<div id="page2">
    <div class="message" id="text"></div>
</div>

<!-- Music Control (Ÿäÿ∏Ÿáÿ± ÿ®ÿπÿØ ŸÖÿß ÿ™ÿ∂ÿ∫ÿ∑ Yes) -->
<button id="musicControl">üîä Music On</button>
<button id="surpriseBtn">üéâ More Surprises üéâ</button>

<!-- AUDIO -->
<audio id="music" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
    <source src="music.mp3.mp3" type="audio/mpeg">
    Your browser does not support audio.
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// ELEMENTS
const intro = document.getElementById("intro");
const startBtn = document.getElementById("startBtn");
const countdown = document.getElementById("countdown");
const page1 = document.getElementById("page1");
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const page2 = document.getElementById("page2");
const text = document.getElementById("text");
const music = document.getElementById("music");
const musicControl = document.getElementById("musicControl");
const surpriseBtn = document.getElementById("surpriseBtn");

// MESSAGE
const msg = `Happy birthday aboura‚ù§Ô∏èüíúüòç  
nchalah btoul la3mor w nchalah yarabi tousel leli t7eb 3lih w nchalah rabi ywaf9ek‚ù§Ô∏è  
rani far7an 3ale5er eli rja3na s7ab w nchalah eli sar 9bal may3awedech ysir mara o5ra‚ù§Ô∏è‚ù§Ô∏è  
enjoy your happy day  
smile as much as you can cause you have the prettiest smile at all that i love so much‚ù§Ô∏èüåπüåπ  
and the red flower is that's how i see you‚ú®‚ú®`;

// Music state
let isMusicPlaying = false;

// Function to play music
function playMusic() {
    music.volume = 0.5;
    
    let playPromise = music.play();
    
    if (playPromise !== undefined) {
        playPromise.then(() => {
            console.log("üéµ Music started after Yes click");
            isMusicPlaying = true;
            musicControl.innerHTML = "üîä Music On";
        }).catch(error => {
            console.log("Music play failed:", error);
            isMusicPlaying = false;
            musicControl.innerHTML = "üîá Music Off";
        });
    }
}

// Function to toggle music
function toggleMusic() {
    if (isMusicPlaying) {
        music.pause();
        isMusicPlaying = false;
        musicControl.innerHTML = "üîá Music Off";
    } else {
        playMusic();
    }
}

// START BUTTON
startBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    intro.style.display = "none";
    countdown.style.display = "flex";

    let count = 3;
    const interval = setInterval(() => {
        countdown.innerHTML = count;
        count--;
        
        if (count < 0) {
            clearInterval(interval);
            countdown.style.display = "none";
            page1.style.display = "flex";
        }
    }, 1000);
});

// YES CLICK - ŸáŸÜÿß ÿßŸÑÿ£ÿ∫ŸÜŸäÿ© ÿ™ÿ®ÿØÿß
yes.onclick = (e) => {
    e.stopPropagation();
    page1.style.display = "none";
    page2.style.display = "flex";

    // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ ŸáŸÜÿß ÿ®ÿπÿØ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ Yes
    playMusic();
    
    // ÿ•ÿ∏Ÿáÿßÿ± ÿ≤ÿ± ÿßŸÑÿ™ÿ≠ŸÉŸÖ ŸÅŸä ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ
    musicControl.style.display = "block";

    // Confetti
    confetti({ particleCount: 400, spread: 180, origin: { y: 0.6 } });
    
    setTimeout(() => {
        confetti({ particleCount: 200, spread: 100, origin: { y: 0.5, x: 0.3 } });
        confetti({ particleCount: 200, spread: 100, origin: { y: 0.5, x: 0.7 } });
    }, 500);

    createHearts();
    typeWriter();
    
    setTimeout(() => {
        surpriseBtn.style.display = "block";
    }, msg.length * 30 + 1000);
};

// NO BUTTON
let noClicks = 0;
no.addEventListener("mouseover", (e) => {
    if (noClicks < 5) {
        const maxX = window.innerWidth - no.offsetWidth - 50;
        const maxY = window.innerHeight - no.offsetHeight - 50;
        
        const randomX = Math.max(20, Math.min(maxX, Math.random() * maxX));
        const randomY = Math.max(20, Math.min(maxY, Math.random() * maxY));
        
        no.style.position = 'absolute';
        no.style.left = randomX + 'px';
        no.style.top = randomY + 'px';
        
        noClicks++;
    } else {
        no.textContent = "Yes is better üòä";
        no.style.background = "#ff4d6d";
    }
});

no.onclick = (e) => {
    e.stopPropagation();
    if (noClicks < 5) {
        alert("Try again! üòä");
        confetti({ particleCount: 50, spread: 50, origin: { y: 0.5 } });
    } else {
        yes.click();
    }
};

// TYPEWRITER
let i = 0;
function typeWriter() {
    if (i < msg.length) {
        text.innerHTML += msg.charAt(i);
        i++;
        setTimeout(typeWriter, 30);
    } else {
        confetti({ particleCount: 300, spread: 160, origin: { y: 0.6 } });
    }
}

// HEARTS
function createHearts() {
    setInterval(() => {
        for (let j = 0; j < 3; j++) {
            setTimeout(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (15 + Math.random() * 30) + 'px';
                heart.style.animationDuration = (3 + Math.random() * 3) + 's';
                heart.style.color = ['#ff4d6d', '#ff3333', '#ff6666'][Math.floor(Math.random() * 3)];
                document.body.appendChild(heart);
                
                setTimeout(() => heart.remove(), 6000);
            }, j * 100);
        }
    }, 250);
}

// MUSIC CONTROL
musicControl.onclick = (e) => {
    e.stopPropagation();
    toggleMusic();
};

// SURPRISE BUTTON
surpriseBtn.onclick = (e) => {
    e.stopPropagation();
    for (let i = 0; i < 5; i++) {
        setTimeout(() => {
            confetti({
                particleCount: 100,
                spread: 120,
                origin: { y: 0.6, x: i * 0.2 }
            });
        }, i * 200);
    }
};

// PAGE 2 click
page2.onclick = (e) => {
    if (page2.style.display === "flex") {
        confetti({ particleCount: 50, spread: 80, origin: { y: 0.5 } });
    }
};

// Preload images
window.onload = () => {
    const img1 = new Image();
    img1.src = "image1.jpg";
    const img2 = new Image();
    img2.src = "image2.jpg";
    console.log("üéâ Birthday Surprise Ready! üéâ");
};
</script>
</body>
</html>
