<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    height: 100vh;
    overflow: hidden;
    background: black;
}

/* INTRO SCREEN */
#intro {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    z-index: 100;
    text-align: center;
    padding: 20px;
}

#startBtn {
    padding: 15px 35px;
    border: none;
    border-radius: 30px;
    background: #ff4d6d;
    color: white;
    font-size: 20px;
    cursor: pointer;
    margin-top: 20px;
    transition: transform 0.3s, box-shadow 0.3s;
}

#startBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px #ff4d6d;
}

/* COUNTDOWN */
#countdown {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: none;
    justify-content: center;
    align-items: center;
    font-size: 80px;
    z-index: 90;
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

/* PAGE 1 */
#page1 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image1.jpg") center/cover no-repeat;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1;
}

#page1 h1 {
    color: white;
    font-size: 32px;
    text-shadow: 0 0 15px pink, 0 0 30px red;
    margin-bottom: 20px;
    text-align: center;
    padding: 0 20px;
}

.button-container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    position: relative;
}

#page1 button {
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
    min-width: 120px;
}

#yes {
    background: #ff4d6d;
    color: white;
}

#yes:hover {
    transform: scale(1.2);
    box-shadow: 0 0 25px #ff4d6d;
}

#no {
    background: #444;
    color: white;
    position: relative;
}

/* PAGE 2 */
#page2 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image2.jpg") center/cover no-repeat;
    justify-content: center;
    align-items: center;
    z-index: 2;
}

.message {
    background: transparent;
    padding: 30px;
    border-radius: 25px;
    color: #ff0000;
    font-size: 26px;
    font-weight: bold;
    line-height: 1.9;
    white-space: pre-line;
    max-width: 800px;
    margin: 20px;
    text-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
    animation: glow 3s infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 25px #ff3333; }
    to { text-shadow: 0 0 50px #ff4d6d; }
}

/* Hearts - ŸÜÿ≥ÿÆÿ© ÿÆŸÅŸäŸÅÿ© */
.heart {
    position: absolute;
    color: #ff4d6d;
    animation: floatUp 4s linear forwards;
    font-size: 20px;
    z-index: 999;
    pointer-events: none;
    will-change: transform, opacity;
}

@keyframes floatUp {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
    }
}

/* Music Control */
#musicControl {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: #ff4d6d;
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    transition: 0.3s;
}

#musicControl:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Surprise Button */
#surpriseBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 25px;
    background: #ff4d6d;
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    transition: 0.3s;
}

#surpriseBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Responsive */
@media (max-width: 768px) {
    .message {
        font-size: 20px;
        padding: 20px;
    }
}
</style>
</head>
<body>

<!-- INTRO -->
<div id="intro">
    <h1>üé¨ Ready for something special?</h1>
    <button id="startBtn">Start üéÅ</button>
</div>

<!-- COUNTDOWN -->
<div id="countdown">3</div>

<!-- PAGE 1 -->
<div id="page1">
    <h1>Are you ready for a surprise? üíñ</h1>
    <div class="button-container">
        <button id="yes">Yes üòç</button>
        <button id="no">No üòÖ</button>
    </div>
</div>

<!-- PAGE 2 -->
<div id="page2">
    <div class="message" id="text"></div>
</div>

<!-- Buttons -->
<button id="musicControl">üîä Music On</button>
<button id="surpriseBtn">üéâ More Surprises üéâ</button>

<!-- AUDIO -->
<audio id="music" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
    <source src="music.mp3.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// ELEMENTS
const intro = document.getElementById("intro");
const startBtn = document.getElementById("startBtn");
const countdown = document.getElementById("countdown");
const page1 = document.getElementById("page1");
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const page2 = document.getElementById("page2");
const text = document.getElementById("text");
const music = document.getElementById("music");
const musicControl = document.getElementById("musicControl");
const surpriseBtn = document.getElementById("surpriseBtn");

// MESSAGE
const msg = `Happy birthday aboura‚ù§Ô∏èüíúüòç  
nchalah btoul la3mor w nchalah yarabi tousel leli t7eb 3lih w nchalah rabi ywaf9ek‚ù§Ô∏è  
rani far7an 3ale5er eli rja3na s7ab w nchalah eli sar 9bal may3awedech ysir mara o5ra‚ù§Ô∏è‚ù§Ô∏è  
enjoy your happy day  
smile as much as you can cause you have the prettiest smile at all that i love so much‚ù§Ô∏èüåπüåπ  
and the red flower is that's how i see you‚ú®‚ú®`;

// Music state
let isMusicPlaying = false;
let heartInterval = null;
let typeTimer = null;

// Play music
function playMusic() {
    music.volume = 0.5;
    music.play().then(() => {
        isMusicPlaying = true;
        musicControl.innerHTML = "üîä Music On";
    }).catch(() => {
        isMusicPlaying = false;
        musicControl.innerHTML = "üîá Music Off";
    });
}

// Toggle music
function toggleMusic() {
    if (isMusicPlaying) {
        music.pause();
        isMusicPlaying = false;
        musicControl.innerHTML = "üîá Music Off";
    } else {
        playMusic();
    }
}

// START BUTTON
startBtn.addEventListener("click", () => {
    intro.style.display = "none";
    countdown.style.display = "flex";

    let count = 3;
    const interval = setInterval(() => {
        countdown.innerHTML = count;
        count--;
        
        if (count < 0) {
            clearInterval(interval);
            countdown.style.display = "none";
            page1.style.display = "flex";
        }
    }, 1000);
});

// YES CLICK
yes.onclick = () => {
    page1.style.display = "none";
    page2.style.display = "flex";

    // Music
    playMusic();
    musicControl.style.display = "block";

    // Confetti (ÿÆŸÅŸäŸÅ)
    confetti({ particleCount: 200, spread: 160, origin: { y: 0.6 } });
    
    setTimeout(() => {
        confetti({ particleCount: 100, spread: 100, origin: { y: 0.5, x: 0.3 } });
    }, 300);

    // Hearts (ÿ£ŸÇŸÑ Ÿàÿ£ÿÆŸÅ)
    heartInterval = setInterval(createHeart, 400); // ÿ£ÿ®ÿ∑ÿ£ ŸÖŸÜ ŸÇÿ®ŸÑ

    // Typewriter (ŸÖÿ≠ÿ≥ŸëŸÜ)
    typeWriter();
    
    // Surprise button
    setTimeout(() => {
        surpriseBtn.style.display = "block";
    }, 8000);
};

// NO BUTTON
let noClicks = 0;
no.addEventListener("mouseover", () => {
    if (noClicks < 5) {
        const maxX = window.innerWidth - 150;
        const maxY = window.innerHeight - 80;
        
        no.style.position = 'absolute';
        no.style.left = Math.random() * maxX + 'px';
        no.style.top = Math.random() * maxY + 'px';
        noClicks++;
    } else {
        no.textContent = "Yes is better üòä";
        no.style.background = "#ff4d6d";
    }
});

no.onclick = () => {
    if (noClicks < 5) {
        alert("Try again! üòä");
        confetti({ particleCount: 30, spread: 50, origin: { y: 0.5 } });
    } else {
        yes.click();
    }
};

// TYPEWRITER - ŸÜÿ≥ÿÆÿ© ŸÖÿ≠ÿ≥ŸÜÿ© Ÿàÿ≥ÿ±Ÿäÿπÿ©
let i = 0;
function typeWriter() {
    if (typeTimer) clearTimeout(typeTimer);
    
    function writeNext() {
        if (i < msg.length) {
            text.innerHTML += msg.charAt(i);
            i++;
            typeTimer = setTimeout(writeNext, 15); // ÿ£ÿ≥ÿ±ÿπ ŸÖŸÜ ŸÇÿ®ŸÑ
        } else {
            // Confetti ÿÆŸÅŸäŸÅ ŸÅŸä ÿßŸÑŸÜŸáÿßŸäÿ©
            confetti({ particleCount: 150, spread: 120, origin: { y: 0.6 } });
        }
    }
    
    writeNext();
}

// HEART - ŸÜÿ≥ÿÆÿ© ÿÆŸÅŸäŸÅÿ© (ŸÇŸÑÿ® Ÿàÿßÿ≠ÿØ ŸÉŸÑ ŸÖÿ±ÿ©)
function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = '‚ù§Ô∏è';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.fontSize = (15 + Math.random() * 25) + 'px';
    heart.style.animationDuration = (3 + Math.random() * 2) + 's';
    heart.style.color = '#ff4d6d';
    document.body.appendChild(heart);
    
    // ÿ≠ÿ∞ŸÅ ÿ™ŸÑŸÇÿßÿ¶Ÿä ÿ®ÿπÿØ ÿßŸÜÿ™Ÿáÿßÿ° ÿßŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ
    setTimeout(() => {
        if (heart && heart.remove) heart.remove();
    }, 5000);
}

// MUSIC CONTROL
musicControl.onclick = (e) => {
    e.stopPropagation();
    toggleMusic();
};

// SURPRISE BUTTON
surpriseBtn.onclick = () => {
    for (let i = 0; i < 3; i++) {
        setTimeout(() => {
            confetti({
                particleCount: 70,
                spread: 100,
                origin: { y: 0.6, x: 0.2 + (i * 0.3) }
            });
        }, i * 150);
    }
};

// PAGE 2 click
page2.onclick = () => {
    if (page2.style.display === "flex") {
        confetti({ particleCount: 30, spread: 60, origin: { y: 0.5 } });
    }
};

// ÿ™ŸÜÿ∏ŸäŸÅ ÿπŸÜÿØ ŸÖÿ∫ÿßÿØÿ±ÿ© ÿßŸÑÿµŸÅÿ≠ÿ©
window.onbeforeunload = () => {
    if (heartInterval) clearInterval(heartInterval);
    if (typeTimer) clearTimeout(typeTimer);
};

// Preload
window.onload = () => {
    console.log("üéâ Ready! üéâ");
};
</script>
</body>
</html>
