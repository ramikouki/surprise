<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    height: 100vh;
    overflow: hidden;
    background: black;
}

/* INTRO SCREEN */
#intro {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    z-index: 100;
    text-align: center;
    padding: 20px;
}

#startBtn {
    padding: 15px 35px;
    border: none;
    border-radius: 30px;
    background: #ff4d6d;
    color: white;
    font-size: 20px;
    cursor: pointer;
    margin-top: 20px;
    transition: transform 0.3s, box-shadow 0.3s;
}

#startBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px #ff4d6d;
}

/* COUNTDOWN */
#countdown {
    position: absolute;
    width: 100%;
    height: 100%;
    background: black;
    color: white;
    display: none;
    justify-content: center;
    align-items: center;
    font-size: 80px;
    z-index: 90;
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.2); opacity: 0.8; }
    100% { transform: scale(1); opacity: 1; }
}

/* PAGE 1 */
#page1 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image1.jpg") center/cover no-repeat;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1;
}

#page1 h1 {
    color: white;
    font-size: 32px;
    text-shadow: 0 0 15px pink, 0 0 30px red;
    margin-bottom: 20px;
    text-align: center;
    padding: 0 20px;
}

.button-container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    position: relative;
    min-height: 100px;
    width: 100%;
}

#page1 button {
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
    min-width: 120px;
}

#yes {
    background: #ff4d6d;
    color: white;
    position: relative;
    z-index: 10;
}

#yes:hover {
    transform: scale(1.2);
    box-shadow: 0 0 25px #ff4d6d;
}

#no {
    background: #444;
    color: white;
    position: absolute; /* Ø¹Ø´Ø§Ù† ÙŠØªØ­Ø±Ùƒ Ø¨Ø­Ø±ÙŠØ© */
    transition: left 0.2s ease, top 0.2s ease;
}

#no:hover {
    background: #666;
}

/* PAGE 2 - Ù…Ø¹ Ø§Ù„ØµÙˆØ±Ø© image3 */
#page2 {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("image3.jpg") center/cover no-repeat;
    justify-content: center;
    align-items: center;
    z-index: 2;
}

.message {
    background: transparent;
    padding: 30px;
    border-radius: 25px;
    color: #ffffff;
    font-size: 26px;
    font-weight: bold;
    line-height: 1.9;
    white-space: pre-line;
    max-width: 800px;
    margin: 20px;
    text-shadow: 
        0 0 20px rgba(255, 255, 255, 0.8),
        0 0 40px #ff4d6d,
        0 0 60px #ff99aa;
    animation: glow 3s infinite alternate;
}

@keyframes glow {
    from { 
        text-shadow: 
            0 0 25px #ffffff, 
            0 0 50px #ff4d6d,
            0 0 70px #ff99aa; 
    }
    to { 
        text-shadow: 
            0 0 40px #ffffff, 
            0 0 70px #ff6b8b,
            0 0 90px #ffb6c1; 
    }
}

/* Hearts */
.heart {
    position: absolute;
    color: #ff4d6d;
    animation: floatUp 4s linear forwards;
    font-size: 20px;
    z-index: 999;
    pointer-events: none;
    will-change: transform, opacity;
}

@keyframes floatUp {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
    }
}

/* Music Control */
#musicControl {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: #ff4d6d;
    color: white;
    border: none;
    border-radius: 50px;
    padding: 12px 20px;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    transition: 0.3s;
}

#musicControl:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Surprise Button */
#surpriseBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 25px;
    background: #ff4d6d;
    border: none;
    border-radius: 50px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    z-index: 1000;
    display: none;
    transition: 0.3s;
}

#surpriseBtn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px #ff4d6d;
}

/* Responsive */
@media (max-width: 768px) {
    .message {
        font-size: 20px;
        padding: 20px;
    }
}
</style>
</head>
<body>

<!-- INTRO -->
<div id="intro">
    <h1>ğŸ¬ Ready for something special?</h1>
    <button id="startBtn">Start ğŸ</button>
</div>

<!-- COUNTDOWN -->
<div id="countdown">3</div>

<!-- PAGE 1 -->
<div id="page1">
    <h1>Are you ready for a surprise? ğŸ’–</h1>
    <div class="button-container">
        <button id="yes">Yes ğŸ˜</button>
        <button id="no">No ğŸ˜…</button>
    </div>
</div>

<!-- PAGE 2 -->
<div id="page2">
    <div class="message" id="text"></div>
</div>

<!-- Buttons -->
<button id="musicControl">ğŸ”Š Music On</button>
<button id="surpriseBtn">ğŸ‰ More Surprises ğŸ‰</button>

<!-- AUDIO -->
<audio id="music" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
    <source src="music.mp3.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
// ELEMENTS
const intro = document.getElementById("intro");
const startBtn = document.getElementById("startBtn");
const countdown = document.getElementById("countdown");
const page1 = document.getElementById("page1");
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const page2 = document.getElementById("page2");
const text = document.getElementById("text");
const music = document.getElementById("music");
const musicControl = document.getElementById("musicControl");
const surpriseBtn = document.getElementById("surpriseBtn");

// MESSAGE
const msg = `Happy birthday abouraâ¤ï¸ğŸ¥³ï¸ğŸğŸ˜  
nchalah btoul la3mor w nchalah yarabi tousel leli t7eb 3lih w nchalah rabi ywaf9ekâ¤ï¸  
rani far7an 3ale5er eli rja3na s7ab w nchalah eli sar 9bal may3awedech ysir mara o5raâ¤ï¸  
enjoy your happy day â¤ï¸
smile as much as you can cause you have the prettiest smile at all that i love so muchâ¤ï¸âœ¨ï¸ğŸ’  
and you are the white flower, that's how i see you among the other girlsâœ¨âœ¨`;

// Music state
let isMusicPlaying = false;
let heartInterval = null;
let typeTimer = null;
let noMoveCount = 0;

// Play music
function playMusic() {
    music.volume = 0.5;
    music.play().then(() => {
        isMusicPlaying = true;
        musicControl.innerHTML = "ğŸ”Š Music On";
    }).catch(() => {
        isMusicPlaying = false;
        musicControl.innerHTML = "ğŸ”‡ Music Off";
    });
}

// Toggle music
function toggleMusic() {
    if (isMusicPlaying) {
        music.pause();
        isMusicPlaying = false;
        musicControl.innerHTML = "ğŸ”‡ Music Off";
    } else {
        playMusic();
    }
}

// START BUTTON
startBtn.addEventListener("click", () => {
    intro.style.display = "none";
    countdown.style.display = "flex";

    let count = 3;
    const interval = setInterval(() => {
        countdown.innerHTML = count;
        count--;
        
        if (count < 0) {
            clearInterval(interval);
            countdown.style.display = "none";
            page1.style.display = "flex";
            
            // ÙˆØ¶Ø¹ Ø²Ø± No ÙÙŠ Ù…ÙƒØ§Ù†Ù‡ Ø§Ù„Ø£ØµÙ„ÙŠ - Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Page1 ØªØ¸Ù‡Ø±
            setTimeout(() => {
                const yesRect = yes.getBoundingClientRect();
                no.style.position = 'absolute';
                no.style.left = (yesRect.right + 20) + 'px'; // Ø¹Ù„Ù‰ ÙŠÙ…ÙŠÙ† Yes Ø¨Ù…Ø³Ø§ÙØ© 20px
                no.style.top = yesRect.top + 'px';
                no.style.transform = 'none';
                console.log("No button placed next to Yes");
            }, 100); // ØªØ£Ø®ÙŠØ± ØµØºÙŠØ± Ø¹Ø´Ø§Ù† Ø§Ù„ØªØ£ÙƒØ¯ Ø£Ù† Page1 Ø¸Ù‡Ø±Øª
        }
    }, 1000);
});

// YES CLICK
yes.onclick = () => {
    page1.style.display = "none";
    page2.style.display = "flex";

    // Music
    playMusic();
    musicControl.style.display = "block";

    // Confetti
    confetti({ particleCount: 200, spread: 160, origin: { y: 0.6 } });
    
    setTimeout(() => {
        confetti({ particleCount: 100, spread: 100, origin: { y: 0.5, x: 0.3 } });
    }, 300);

    // Hearts
    heartInterval = setInterval(createHeart, 400);

    // Typewriter
    typeWriter();
    
    // Surprise button
    setTimeout(() => {
        surpriseBtn.style.display = "block";
    }, 15000);
};

// NO BUTTON - ÙŠØªØ­Ø±Ùƒ ÙÙŠ Ù…Ø³Ø§Ø­Ø© Â±100 Ø¨ÙƒØ³Ù„
no.addEventListener("mouseover", () => {
    if (noMoveCount < 20) {
        
        // Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø²Ø±
        const currentLeft = parseFloat(no.style.left) || (yes.getBoundingClientRect().right + 20);
        const currentTop = parseFloat(no.style.top) || yes.getBoundingClientRect().top;
        
        // Ù…Ø³Ø§Ø­Ø© Â±100 Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const randomX = currentLeft + (Math.random() * 200 - 150);
        const randomY = currentTop + (Math.random() * 200 - 150);
        
        // Ù†ØªØ£ÙƒØ¯ Ù…Ø§ ÙŠØ®Ø±Ø¬Ø´ Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø©
        const safeX = Math.max(20, Math.min(window.innerWidth - no.offsetWidth - 20, randomX));
        const safeY = Math.max(20, Math.min(window.innerHeight - no.offsetHeight - 20, randomY));
        
        no.style.position = 'absolute';
        no.style.left = safeX + 'px';
        no.style.top = safeY + 'px';
        no.style.transform = 'none';
        
        noMoveCount++;
        
        // ØªØºÙŠÙŠØ± Ø§Ù„Ù†Øµ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹
        if (noMoveCount === 1) {
            no.textContent = "Still no? ğŸ˜…";
        } else if (noMoveCount === 2) {
            no.textContent = "Why not? ğŸ¥º";
        } else if (noMoveCount === 3) {
            no.textContent = "Almost there! ğŸ˜Š";
        } else if (noMoveCount === 4) {
            no.textContent = "Last chance! ğŸ¯";
        }
    } else {
        // Ø¨Ø¹Ø¯ 20 Ø­Ø±ÙƒØ©ØŒ ÙŠÙˆÙ‚Ù Ø­Ø±ÙƒØ© ÙˆÙŠØ¯Ù„Ùƒ Ø¹Ù„Ù‰ Yes
        no.textContent = "Click Yes! ğŸ’–";
        no.style.background = "#ff4d6d";
        no.style.transform = "scale(1.2)";
        no.style.boxShadow = "0 0 30px #ff4d6d";
        
        // Ù†Ø­Ø±Ùƒ Ø§Ù„Ø²Ø± Ù‚Ø±ÙŠØ¨ Ù…Ù† Yes
        const yesRect = yes.getBoundingClientRect();
        no.style.left = (yesRect.left - 100) + 'px';
        no.style.top = (yesRect.top + 20) + 'px';
        
        // ÙˆÙ…Ø¶Ø© Ù„Ù„Ù€ Yes
        yes.style.transform = "scale(1.3)";
        yes.style.boxShadow = "0 0 40px #ff4d6d";
        setTimeout(() => {
            yes.style.transform = "scale(1)";
            yes.style.boxShadow = "none";
        }, 800);
    }
});

no.onclick = () => {
    if (noMoveCount < 20) {
        // ÙƒÙˆÙ†ÙÙŠØªÙŠ ØµØºÙŠØ±
        confetti({ particleCount: 30, spread: 50, origin: { y: 0.5 } });
        
        // Ù†Ø²ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø¹Ø´Ø§Ù† ÙŠÙ‚ØªØ±Ø¨ Ù…Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        noMoveCount = Math.min(noMoveCount + 3, 19);
        
        if (noMoveCount >= 18) {
            no.textContent = "So close! ğŸ¯";
        } else {
            alert("Keep trying! ğŸ˜Š");
        }
        
        // Ù†Ø­Ø±Ùƒ Ø§Ù„Ø²Ø± ÙÙŠ Ù…Ø³Ø§Ø­Ø© Â±100 Ù…Ù† Ù…ÙˆÙ‚Ø¹Ù‡ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const currentLeft = parseFloat(no.style.left);
        const currentTop = parseFloat(no.style.top);
        
        const randomX = currentLeft + (Math.random() * 200 - 150);
        const randomY = currentTop + (Math.random() * 200 - 150);
        
        const safeX = Math.max(20, Math.min(window.innerWidth - no.offsetWidth - 20, randomX));
        const safeY = Math.max(20, Math.min(window.innerHeight - no.offsetHeight - 20, randomY));
        
        no.style.left = safeX + 'px';
        no.style.top = safeY + 'px';
        
    } else {
        // Ø¨Ø¹Ø¯ Ù…Ø§ ÙƒÙ…Ù„ Ø­Ø±ÙƒØ§ØªÙ‡ØŒ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ no ÙŠØ´ØºÙ„ yes
        yes.click();
    }
};

// TYPEWRITER - Ø£Ø¨Ø·Ø£ (80ms)
let i = 0;
function typeWriter() {
    if (typeTimer) clearTimeout(typeTimer);
    
    function writeNext() {
        if (i < msg.length) {
            text.innerHTML += msg.charAt(i);
            i++;
            typeTimer = setTimeout(writeNext, 40);
        } else {
            confetti({ particleCount: 150, spread: 120, origin: { y: 0.6 } });
        }
    }
    
    writeNext();
}

// HEART
function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = 'â¤ï¸';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.fontSize = (15 + Math.random() * 25) + 'px';
    heart.style.animationDuration = (3 + Math.random() * 2) + 's';
    heart.style.color = '#ff4d6d';
    document.body.appendChild(heart);
    
    setTimeout(() => {
        if (heart && heart.remove) heart.remove();
    }, 5000);
}

// MUSIC CONTROL
musicControl.onclick = (e) => {
    e.stopPropagation();
    toggleMusic();
};

// SURPRISE BUTTON
surpriseBtn.onclick = () => {
    for (let i = 0; i < 3; i++) {
        setTimeout(() => {
            confetti({
                particleCount: 70,
                spread: 100,
                origin: { y: 0.6, x: 0.2 + (i * 0.3) }
            });
        }, i * 150);
    }
};

// PAGE 2 click
page2.onclick = () => {
    if (page2.style.display === "flex") {
        confetti({ particleCount: 30, spread: 60, origin: { y: 0.5 } });
    }
};

// ØªÙ†Ø¸ÙŠÙ
window.onbeforeunload = () => {
    if (heartInterval) clearInterval(heartInterval);
    if (typeTimer) clearTimeout(typeTimer);
};

window.onload = () => {
    console.log("ğŸ‰ Ready with image3! ğŸ‰");
};
</script>
</body>
</html>

